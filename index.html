<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Ubenana Mochiz - Home</title>
  <link rel="icon" href="Logo.png" type="image/png">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: "Poppins", sans-serif;
      background: #ffffff;
      color: #000000;
      overflow-x: hidden;
      opacity: 0;
      animation: fadeIn 0.3s forwards;
      display: flex;
      flex-direction: column;
      height: 100vh;
      user-select: none;
      background-image: url('INPUT.png');
      background-size: cover;       
      background-position: center; 
      background-repeat: no-repeat; 
    }

    @keyframes fadeIn { 
      to { opacity: 1; } 
    }

    /* Consistent Navigation Bar */
    .top-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: #680e98;
      padding: 25px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 4px solid #ffd21f; 
      z-index: 50;
    }

    .nav-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .nav-logo {
      height: 40px;
      width: auto;
      border-radius: 8px;
    }

    .nav-items {
      display: flex;
      gap: 22px;
      margin-right: 12px;
    }

    .nav-item {
      display: flex;
      flex-direction: column; 
      align-items: center;
      gap: 4px; 
      color: #ffd21f;
      font-size: 14px;
      text-decoration: none;
      font-weight: 600;
    }

    .nav-item i {
      font-size: 22px; 
      display: block;
    }

    .nav-item.active { 
      color: #fff; 
    }

    .cart-badge {
      position: absolute;
      margin-left: 12px;
      margin-top: -6px;
      background: #ffd21f;
      color: #000;
      border-radius: 10px;
      padding: 2px 7px;
      font-size: 11px;
      font-weight: 700;
    }

    .app-header {
      background: transparent;
      padding: 22px 0;
      text-align: center;
      font-size: 50px;
      font-weight: 700;
      letter-spacing: 1px;
      color: #680e98;
      margin-top: 85px;
    }

    .app-container {
      flex: 1;
      overflow-y: auto;
      padding-bottom: 80px;
    }

    .main-content {
      padding: 18px;
      max-width: 900px;
      margin: auto;
    }

    .banner-categories-wrapper {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
      margin-bottom: 25px;
    }

    .banner-slider {
      flex: 2;
      min-width: 300px;
      height: 220px;
      border-radius: 15px;
      overflow: hidden;
      position: relative;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      border: 4px solid #ffd21f;
    }

    .banner-slide {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity .7s ease;
    }

    .banner-slide.active { 
      opacity: 1; 
    }

    .banner-slide img { 
      width: 100%; 
      height: 100%; 
      object-fit: cover; 
    }

    .categories {
      flex: 1;
      display: grid;
      gap: 10px;
      min-width: 200px;
    }

    .category-card {
      background: #ffd21f;
      border-radius: 15px;
      overflow: hidden;
      border: 4px solid #680e98;
      box-shadow: 0 3px 10px rgba(0,0,0,0.15);
      transition: .2s ease;
      cursor: pointer;
      width: 100%;
    }

    .category-image-top {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }

    .category-bottom {
      padding: 18px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-top: 4px solid #680e98;
    }

    .category-text {
      max-width: 70%;
    }

    .category-text h2 {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .category-text p {
      font-size: 14px;
      line-height: 1.4;
    }

    .order-btn {
      padding: 10px 22px;
      border: 2px solid #680e98;
      border-radius: 12px;
      background: none;
      font-weight: 600;
      cursor: pointer;
      transition: 0.2s;
    }

    .order-btn:hover {
      background: #680e98; 
      color: #fff;
    }

    .category-card:active { 
      transform: scale(.97); 
    }

    .image-grid {
      width: 100%;
      height: 220px;
      overflow: hidden;
      position: relative;
    }

    .image-grid img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: absolute;
      opacity: 0;
      transition: opacity .6s ease;
    }

    .image-grid img.active { 
      opacity: 1; 
    }

    .category-label {
      font-size: 18px;
      font-weight: 700;
      padding: 14px;
      background: #680e98;
      color: #ffd21f;
      text-align: center;
      border-top: 2px solid #ffd21f;
    }

    .about-section {
      padding: 35px 70px;
      text-align: center;
      margin-top: 35px;
    }

    .about-section h2 {
      font-size: 32px;
      font-weight: 700;
      color: #680e98;
      margin-bottom: 20px;
    }

    .about-section p {
      font-size: 20px;
      color: #000;
      line-height: 1.6;
      max-width: 750px;
      margin: auto;
    }

    .auth-section {
      padding: 35px 70px;
      text-align: center;
      margin-top: 35px;
    }

    .auth-section h2 {
      font-size: 32px;
      font-weight: 700;
      color: #680e98;
      margin-bottom: 25px;
    }

    .auth-section p {
      font-size: 20px;
      color: #000000;
      margin-bottom: 25px;
    }

    .auth-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    .auth-btn {
      text-decoration: none;
      padding: 16px 32px;
      border-radius: 35px;
      font-size: 20px;
      font-weight: 700;
      transition: .2s ease;
      display: inline-block;
    }

    .login-btn { 
      background: #fff; 
      color: #000; 
      border: 2px solid #680e98;
    }

    .signup-btn { 
      background: #ffd21f; 
      color: #000; 
      border: 2px solid #680e98;
    }

    .login-btn:hover { 
      background: #ffd21f; 
      color: #000; 
    }

    .signup-btn:hover { 
      background: #680e98; 
      color: #fff; 
    }

    @media (max-width: 700px) {
      .banner-categories-wrapper { 
        flex-direction: column; 
      }
      
      .about-section h2, 
      .auth-section h2 { 
        font-size: 28px; 
      }
      
      .about-section p { 
        font-size: 16px; 
      }
      
      .auth-btn { 
        font-size: 18px; 
        padding: 14px 28px; 
      }
      
      .about-section,
      .auth-section {
        padding: 25px 20px;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <nav class="top-nav">
    <div class="nav-left">
      <img src="Logo.png" alt="Logo" class="nav-logo">
    </div>
    <div class="nav-items">
      <a href="index.html" class="nav-item active">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </a>
      <a href="cart.html" class="nav-item">
        <i class="fas fa-shopping-cart"></i>
        <span>Cart</span>
        <span class="cart-badge" id="cart-count">0</span>
      </a>
      <a href="Contact.html" class="nav-item">
        <i class="fas fa-headset"></i>
        <span>Contact</span>
      </a>
      <a href="account.html" class="nav-item" id="account-btn">
        <i class="fas fa-user"></i>
        <span>Account</span>
      </a>
    </div>
  </nav>

  <div class="app-container">
    <header class="app-header">Ubenana Mochiz</header>

    <main class="main-content">
      <div class="banner-categories-wrapper">
        <div class="banner-slider">
          <div class="banner-slide active"><img src="banner1.png" alt="Banner 1"></div>
          <div class="banner-slide"><img src="banner2.png" alt="Banner 2"></div>
          <div class="banner-slide"><img src="banner3.png" alt="Banner 3"></div>
        </div>

        <div class="category-card">
          <img src="Ubenana.png" alt="Ubenana Mochiz" class="category-image-top">
          <div class="category-bottom">
            <div class="category-text">
              <h2>Ubenana Mochiz</h2>
              <p>
                Welcome to <strong>Ubenana Mochiz</strong>, a unique dessert brand that blends the best of Filipino and Japanese flavors.  
                Each treat is crafted with love, combining traditional Filipino ingredients like <strong>saba bananas</strong> and <strong>ube</strong>  
                with the delicate textures of Japanese mochi.  
                Whether you are craving a comforting snack, a creative dessert for celebrations, or a sweet escape from everyday life,  
                <strong>Ubenana Mochiz</strong> brings joy in every bite.
              </p>
            </div>
            <button class="order-btn" onclick="window.location.href='MainPage.html';">
              <strong>Order Now!</strong>
            </button>
          </div>
        </div>
      </div>

      <div class="about-section">
        <h2>About Us</h2>
        <p>
          Ubenana Mochiz is a Filipinoâ€“Japanese inspired dessert brand crafted with love.  
          We specialize in unique fusion treats that bring comfort, nostalgia, and creativity  
          into every bite.
        </p>
      </div>

      <div class="auth-section" id="auth-section">
        <h2>Join Our Community</h2>
        <p>Not yet part of the Ubenana Community? Log In or Sign Up to gain more access!</p>
        <div class="auth-buttons" id="auth-buttons">
          <a href="Login.html" class="auth-btn login-btn">Log In</a>
          <a href="Signup.html" class="auth-btn signup-btn">Sign Up</a>
        </div>
      </div>
    </main>
  </div>

  <script type="module" src="firebaseAuth.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.addEventListener('gesturestart', function(e) {
        e.preventDefault();
      });

      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach(item => {
        item.addEventListener('click', function() {
          navItems.forEach(nav => nav.classList.remove('active'));
          this.classList.add('active');
        });
      });

      startImageSlider();
      startBannerSlider();
      checkUserAuth();
      handleLogout();
    });

    const auth = firebase.auth();

    function checkUserAuth() {
      firebase.auth().onAuthStateChanged((user) => {
        const authSection = document.getElementById('auth-section');
        const authButtons = document.getElementById('auth-buttons');
        const accountBtn = document.getElementById('account-btn');
        
        if (user) {
          authSection.style.display = 'none';
          accountBtn.querySelector('span').textContent = user.displayName || 'Account';
        } else {
          authSection.style.display = 'block';
          accountBtn.querySelector('span').textContent = 'Account';
        }
      });
    }

    function startImageSlider() {
      const categoryImages = document.querySelectorAll('.category-image');
      
      setInterval(() => {
        categoryImages.forEach((image) => {
          const currentCategory = image.parentElement;
          const images = currentCategory.querySelectorAll('.category-image');
          
          const activeImage = currentCategory.querySelector('.category-image.active');
          let nextIndex = [...images].indexOf(activeImage) + 1;
          if (nextIndex === images.length) {
            nextIndex = 0;
          }

          images.forEach(img => img.classList.remove('active'));
          images[nextIndex].classList.add('active');
        });
      }, 2000);
    }

    function startBannerSlider() {
      const bannerSlides = document.querySelectorAll('.banner-slide');
      let currentSlide = 0;
      
      setInterval(() => {
        bannerSlides[currentSlide].classList.remove('active');
        currentSlide = (currentSlide + 1) % bannerSlides.length;
        bannerSlides[currentSlide].classList.add('active');
      }, 5000);
    }

    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById('cart-count').textContent = totalItems;
    }

    updateCartCount();
  </script>
</body>
</html>